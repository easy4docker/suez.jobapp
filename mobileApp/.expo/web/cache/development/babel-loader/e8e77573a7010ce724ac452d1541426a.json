{"ast":null,"code":"'use strict';\n\nimport _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/johnxu/suez.bid/mobileApp/node_modules/react-native-qrcode-scanner/index.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Vibration from \"react-native-web/dist/exports/Vibration\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport PermissionsAndroid from \"react-native-web/dist/exports/PermissionsAndroid\";\nimport { request, PERMISSIONS, RESULTS } from 'react-native-permissions';\nimport { RNCamera as Camera } from 'react-native-camera';\nvar CAMERA_FLASH_MODE = Camera.Constants.FlashMode;\nvar CAMERA_FLASH_MODES = [CAMERA_FLASH_MODE.torch, CAMERA_FLASH_MODE.on, CAMERA_FLASH_MODE.off, CAMERA_FLASH_MODE.auto];\n\nvar QRCodeScanner = function (_Component) {\n  _inherits(QRCodeScanner, _Component);\n\n  var _super = _createSuper(QRCodeScanner);\n\n  function QRCodeScanner(props) {\n    var _this;\n\n    _classCallCheck(this, QRCodeScanner);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      scanning: false,\n      isCameraActivated: true,\n      fadeInOpacity: new Animated.Value(0),\n      isAuthorized: false,\n      isAuthorizationChecked: false,\n      disableVibrationByUser: false\n    };\n    _this.timer = null;\n    _this._scannerTimeout = null;\n    _this._handleBarCodeRead = _this._handleBarCodeRead.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(QRCodeScanner, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (Platform.OS === 'ios') {\n        request(PERMISSIONS.IOS.CAMERA).then(function (cameraStatus) {\n          _this2.setState({\n            isAuthorized: cameraStatus === RESULTS.GRANTED,\n            isAuthorizationChecked: true\n          });\n        });\n      } else if (Platform.OS === 'android' && this.props.checkAndroid6Permissions) {\n        PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.CAMERA, {\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive\n        }).then(function (granted) {\n          var isAuthorized = granted === PermissionsAndroid.RESULTS.GRANTED;\n\n          _this2.setState({\n            isAuthorized: isAuthorized,\n            isAuthorizationChecked: true\n          });\n        });\n      } else {\n        this.setState({\n          isAuthorized: true,\n          isAuthorizationChecked: true\n        });\n      }\n\n      if (this.props.fadeIn) {\n        Animated.sequence([Animated.delay(1000), Animated.timing(this.state.fadeInOpacity, {\n          toValue: 1,\n          easing: Easing.inOut(Easing.quad),\n          useNativeDriver: true\n        })]).start();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._scannerTimeout !== null) {\n        clearTimeout(this._scannerTimeout);\n      }\n\n      if (this.timer !== null) {\n        clearTimeout(this.timer);\n      }\n\n      this.timer = null;\n      this._scannerTimeout = null;\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      this.setState({\n        disableVibrationByUser: true\n      });\n    }\n  }, {\n    key: \"enable\",\n    value: function enable() {\n      this.setState({\n        disableVibrationByUser: false\n      });\n    }\n  }, {\n    key: \"_setScanning\",\n    value: function _setScanning(value) {\n      this.setState({\n        scanning: value\n      });\n    }\n  }, {\n    key: \"_setCamera\",\n    value: function _setCamera(value) {\n      var _this3 = this;\n\n      this.setState({\n        isCameraActivated: value,\n        scanning: false,\n        fadeInOpacity: new Animated.Value(0)\n      }, function () {\n        if (value && _this3.props.fadeIn) {\n          if (_this3.props.fadeIn) {\n            Animated.sequence([Animated.delay(10), Animated.timing(_this3.state.fadeInOpacity, {\n              toValue: 1,\n              easing: Easing.inOut(Easing.quad),\n              useNativeDriver: true\n            })]).start();\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_handleBarCodeRead\",\n    value: function _handleBarCodeRead(e) {\n      var _this4 = this;\n\n      if (!this.state.scanning && !this.state.disableVibrationByUser) {\n        if (this.props.vibrate) {\n          Vibration.vibrate();\n        }\n\n        this._setScanning(true);\n\n        this.props.onRead(e);\n\n        if (this.props.reactivate) {\n          this._scannerTimeout = setTimeout(function () {\n            return _this4._setScanning(false);\n          }, this.props.reactivateTimeout);\n        }\n      }\n    }\n  }, {\n    key: \"_renderTopContent\",\n    value: function _renderTopContent() {\n      if (this.props.topContent) {\n        return this.props.topContent;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderBottomContent\",\n    value: function _renderBottomContent() {\n      if (this.props.bottomContent) {\n        return this.props.bottomContent;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderCameraMarker\",\n    value: function _renderCameraMarker() {\n      if (this.props.showMarker) {\n        if (this.props.customMarker) {\n          return this.props.customMarker;\n        } else {\n          return React.createElement(View, {\n            style: styles.rectangleContainer,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 11\n            }\n          }, React.createElement(View, {\n            style: [styles.rectangle, this.props.markerStyle ? this.props.markerStyle : null],\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 13\n            }\n          }));\n        }\n      }\n\n      return null;\n    }\n  }, {\n    key: \"_renderCameraComponent\",\n    value: function _renderCameraComponent() {\n      return React.createElement(Camera, _extends({\n        androidCameraPermissionOptions: {\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive\n        },\n        style: [styles.camera, this.props.cameraStyle],\n        onBarCodeRead: this._handleBarCodeRead.bind(this),\n        type: this.props.cameraType,\n        flashMode: this.props.flashMode,\n        captureAudio: false\n      }, this.props.cameraProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 7\n        }\n      }), this._renderCameraMarker());\n    }\n  }, {\n    key: \"_renderCamera\",\n    value: function _renderCamera() {\n      var _this5 = this;\n\n      var _this$props = this.props,\n          notAuthorizedView = _this$props.notAuthorizedView,\n          pendingAuthorizationView = _this$props.pendingAuthorizationView,\n          cameraType = _this$props.cameraType,\n          cameraTimeoutView = _this$props.cameraTimeoutView;\n\n      if (!this.state.isCameraActivated) {\n        return React.createElement(TouchableWithoutFeedback, {\n          onPress: function onPress() {\n            return _this5._setCamera(true);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 9\n          }\n        }, cameraTimeoutView);\n      }\n\n      var _this$state = this.state,\n          isAuthorized = _this$state.isAuthorized,\n          isAuthorizationChecked = _this$state.isAuthorizationChecked;\n\n      if (isAuthorized) {\n        if (this.props.cameraTimeout > 0) {\n          this.timer && clearTimeout(this.timer);\n          this.timer = setTimeout(function () {\n            return _this5._setCamera(false);\n          }, this.props.cameraTimeout);\n        }\n\n        if (this.props.fadeIn) {\n          return React.createElement(Animated.View, {\n            style: {\n              opacity: this.state.fadeInOpacity,\n              backgroundColor: 'transparent',\n              height: this.props.cameraStyle && this.props.cameraStyle.height || styles.camera.height\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 11\n            }\n          }, this._renderCameraComponent());\n        }\n\n        return this._renderCameraComponent();\n      } else if (!isAuthorizationChecked) {\n        return pendingAuthorizationView;\n      } else {\n        return notAuthorizedView;\n      }\n    }\n  }, {\n    key: \"reactivate\",\n    value: function reactivate() {\n      this._setScanning(false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: [styles.mainContainer, this.props.containerStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: [styles.infoView, this.props.topViewStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 9\n        }\n      }, this._renderTopContent()), React.createElement(View, {\n        style: this.props.cameraStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 9\n        }\n      }, this._renderCamera()), React.createElement(View, {\n        style: [styles.infoView, this.props.bottomViewStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 9\n        }\n      }, this._renderBottomContent()));\n    }\n  }]);\n\n  return QRCodeScanner;\n}(Component);\n\nQRCodeScanner.propTypes = {\n  onRead: PropTypes.func.isRequired,\n  vibrate: PropTypes.bool,\n  reactivate: PropTypes.bool,\n  reactivateTimeout: PropTypes.number,\n  cameraTimeout: PropTypes.number,\n  fadeIn: PropTypes.bool,\n  showMarker: PropTypes.bool,\n  cameraType: PropTypes.oneOf(['front', 'back']),\n  customMarker: PropTypes.element,\n  containerStyle: PropTypes.any,\n  cameraStyle: PropTypes.any,\n  markerStyle: PropTypes.any,\n  topViewStyle: PropTypes.any,\n  bottomViewStyle: PropTypes.any,\n  topContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  bottomContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n  notAuthorizedView: PropTypes.element,\n  permissionDialogTitle: PropTypes.string,\n  permissionDialogMessage: PropTypes.string,\n  buttonPositive: PropTypes.string,\n  checkAndroid6Permissions: PropTypes.bool,\n  flashMode: PropTypes.oneOf(CAMERA_FLASH_MODES),\n  cameraProps: PropTypes.object,\n  cameraTimeoutView: PropTypes.element\n};\nQRCodeScanner.defaultProps = {\n  onRead: function onRead() {\n    return console.log('QR code scanned!');\n  },\n  reactivate: false,\n  vibrate: true,\n  reactivateTimeout: 0,\n  cameraTimeout: 0,\n  fadeIn: true,\n  showMarker: false,\n  cameraType: 'back',\n  notAuthorizedView: React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 16\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Camera not authorized\")),\n  pendingAuthorizationView: React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center',\n      fontSize: 16\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, \"...\")),\n  permissionDialogTitle: 'Info',\n  permissionDialogMessage: 'Need camera permission',\n  buttonPositive: 'OK',\n  checkAndroid6Permissions: false,\n  flashMode: CAMERA_FLASH_MODE.auto,\n  cameraProps: {},\n  cameraTimeoutView: React.createElement(View, {\n    style: {\n      flex: 0,\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: Dimensions.get('window').height,\n      width: Dimensions.get('window').width,\n      backgroundColor: 'black'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: 'white'\n    },\n    __self: QRCodeScanner,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, \"Tap to activate camera\"))\n};\nexport { QRCodeScanner as default };\nvar styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1\n  },\n  infoView: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: Dimensions.get('window').width\n  },\n  camera: {\n    flex: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    height: Dimensions.get('window').width,\n    width: Dimensions.get('window').width\n  },\n  rectangleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent'\n  },\n  rectangle: {\n    height: 250,\n    width: 250,\n    borderWidth: 2,\n    borderColor: '#00FF00',\n    backgroundColor: 'transparent'\n  }\n});","map":{"version":3,"sources":["/Users/johnxu/suez.bid/mobileApp/node_modules/react-native-qrcode-scanner/index.js"],"names":["React","Component","PropTypes","request","PERMISSIONS","RESULTS","RNCamera","Camera","CAMERA_FLASH_MODE","Constants","FlashMode","CAMERA_FLASH_MODES","torch","on","off","auto","QRCodeScanner","props","state","scanning","isCameraActivated","fadeInOpacity","Animated","Value","isAuthorized","isAuthorizationChecked","disableVibrationByUser","timer","_scannerTimeout","_handleBarCodeRead","bind","Platform","OS","IOS","CAMERA","then","cameraStatus","setState","GRANTED","checkAndroid6Permissions","PermissionsAndroid","title","permissionDialogTitle","message","permissionDialogMessage","buttonPositive","granted","fadeIn","sequence","delay","timing","toValue","easing","Easing","inOut","quad","useNativeDriver","start","clearTimeout","value","e","vibrate","Vibration","_setScanning","onRead","reactivate","setTimeout","reactivateTimeout","topContent","bottomContent","showMarker","customMarker","styles","rectangleContainer","rectangle","markerStyle","camera","cameraStyle","cameraType","flashMode","cameraProps","_renderCameraMarker","notAuthorizedView","pendingAuthorizationView","cameraTimeoutView","_setCamera","cameraTimeout","opacity","backgroundColor","height","_renderCameraComponent","mainContainer","containerStyle","infoView","topViewStyle","_renderTopContent","_renderCamera","bottomViewStyle","_renderBottomContent","propTypes","func","isRequired","bool","number","oneOf","element","any","oneOfType","string","object","defaultProps","console","log","flex","alignItems","justifyContent","textAlign","fontSize","Dimensions","get","width","color","StyleSheet","create","borderWidth","borderColor"],"mappings":"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","sourcesContent":["'use strict';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  StyleSheet,\n  Dimensions,\n  Vibration,\n  Animated,\n  Easing,\n  View,\n  Text,\n  Platform,\n  TouchableWithoutFeedback,\n  PermissionsAndroid,\n} from 'react-native';\n\nimport { request, PERMISSIONS, RESULTS } from 'react-native-permissions';\nimport { RNCamera as Camera } from 'react-native-camera';\n\nconst CAMERA_FLASH_MODE = Camera.Constants.FlashMode;\nconst CAMERA_FLASH_MODES = [\n  CAMERA_FLASH_MODE.torch,\n  CAMERA_FLASH_MODE.on,\n  CAMERA_FLASH_MODE.off,\n  CAMERA_FLASH_MODE.auto,\n];\n\nexport default class QRCodeScanner extends Component {\n  static propTypes = {\n    onRead: PropTypes.func.isRequired,\n    vibrate: PropTypes.bool,\n    reactivate: PropTypes.bool,\n    reactivateTimeout: PropTypes.number,\n    cameraTimeout: PropTypes.number,\n    fadeIn: PropTypes.bool,\n    showMarker: PropTypes.bool,\n    cameraType: PropTypes.oneOf(['front', 'back']),\n    customMarker: PropTypes.element,\n    containerStyle: PropTypes.any,\n    cameraStyle: PropTypes.any,\n    markerStyle: PropTypes.any,\n    topViewStyle: PropTypes.any,\n    bottomViewStyle: PropTypes.any,\n    topContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    bottomContent: PropTypes.oneOfType([PropTypes.element, PropTypes.string]),\n    notAuthorizedView: PropTypes.element,\n    permissionDialogTitle: PropTypes.string,\n    permissionDialogMessage: PropTypes.string,\n    buttonPositive: PropTypes.string,\n    checkAndroid6Permissions: PropTypes.bool,\n    flashMode: PropTypes.oneOf(CAMERA_FLASH_MODES),\n    cameraProps: PropTypes.object,\n    cameraTimeoutView: PropTypes.element,\n  };\n\n  static defaultProps = {\n    onRead: () => console.log('QR code scanned!'),\n    reactivate: false,\n    vibrate: true,\n    reactivateTimeout: 0,\n    cameraTimeout: 0,\n    fadeIn: true,\n    showMarker: false,\n    cameraType: 'back',\n    notAuthorizedView: (\n      <View\n        style={{\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <Text\n          style={{\n            textAlign: 'center',\n            fontSize: 16,\n          }}\n        >\n          Camera not authorized\n        </Text>\n      </View>\n    ),\n    pendingAuthorizationView: (\n      <View\n        style={{\n          flex: 1,\n          alignItems: 'center',\n          justifyContent: 'center',\n        }}\n      >\n        <Text\n          style={{\n            textAlign: 'center',\n            fontSize: 16,\n          }}\n        >\n          ...\n        </Text>\n      </View>\n    ),\n    permissionDialogTitle: 'Info',\n    permissionDialogMessage: 'Need camera permission',\n    buttonPositive: 'OK',\n    checkAndroid6Permissions: false,\n    flashMode: CAMERA_FLASH_MODE.auto,\n    cameraProps: {},\n    cameraTimeoutView: (\n      <View\n        style={{\n          flex: 0,\n          alignItems: 'center',\n          justifyContent: 'center',\n          height: Dimensions.get('window').height,\n          width: Dimensions.get('window').width,\n          backgroundColor: 'black',\n        }}\n      >\n        <Text style={{ color: 'white' }}>Tap to activate camera</Text>\n      </View>\n    ),\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      scanning: false,\n      isCameraActivated: true,\n      fadeInOpacity: new Animated.Value(0),\n      isAuthorized: false,\n      isAuthorizationChecked: false,\n      disableVibrationByUser: false,\n    };\n    this.timer = null;\n    this._scannerTimeout = null;\n    this._handleBarCodeRead = this._handleBarCodeRead.bind(this);\n  }\n\n  componentDidMount() {\n    if (Platform.OS === 'ios') {\n      request(PERMISSIONS.IOS.CAMERA).then(cameraStatus => {\n        this.setState({\n          isAuthorized: cameraStatus === RESULTS.GRANTED,\n          isAuthorizationChecked: true,\n        });\n      });\n    } else if (\n      Platform.OS === 'android' &&\n      this.props.checkAndroid6Permissions\n    ) {\n      PermissionsAndroid.request(PermissionsAndroid.PERMISSIONS.CAMERA, {\n        title: this.props.permissionDialogTitle,\n        message: this.props.permissionDialogMessage,\n        buttonPositive: this.props.buttonPositive,\n      }).then(granted => {\n        const isAuthorized = granted === PermissionsAndroid.RESULTS.GRANTED;\n\n        this.setState({ isAuthorized, isAuthorizationChecked: true });\n      });\n    } else {\n      this.setState({ isAuthorized: true, isAuthorizationChecked: true });\n    }\n\n    if (this.props.fadeIn) {\n      Animated.sequence([\n        Animated.delay(1000),\n        Animated.timing(this.state.fadeInOpacity, {\n          toValue: 1,\n          easing: Easing.inOut(Easing.quad),\n          useNativeDriver: true,\n        }),\n      ]).start();\n    }\n  }\n\n  componentWillUnmount() {\n    if (this._scannerTimeout !== null) {\n      clearTimeout(this._scannerTimeout);\n    }\n    if (this.timer !== null) {\n      clearTimeout(this.timer);\n    }\n    this.timer = null;\n    this._scannerTimeout = null;\n  }\n\n  disable() {\n    this.setState({ disableVibrationByUser: true });\n  }\n  enable() {\n    this.setState({ disableVibrationByUser: false });\n  }\n\n  _setScanning(value) {\n    this.setState({ scanning: value });\n  }\n\n  _setCamera(value) {\n    this.setState(\n      {\n        isCameraActivated: value,\n        scanning: false,\n        fadeInOpacity: new Animated.Value(0),\n      },\n      () => {\n        if (value && this.props.fadeIn) {\n          if (this.props.fadeIn) {\n            Animated.sequence([\n              Animated.delay(10),\n              Animated.timing(this.state.fadeInOpacity, {\n                toValue: 1,\n                easing: Easing.inOut(Easing.quad),\n                useNativeDriver: true,\n              }),\n            ]).start();\n          }\n        }\n      }\n    );\n  }\n\n  _handleBarCodeRead(e) {\n    if (!this.state.scanning && !this.state.disableVibrationByUser) {\n      if (this.props.vibrate) {\n        Vibration.vibrate();\n      }\n      this._setScanning(true);\n      this.props.onRead(e);\n      if (this.props.reactivate) {\n        this._scannerTimeout = setTimeout(\n          () => this._setScanning(false),\n          this.props.reactivateTimeout\n        );\n      }\n    }\n  }\n\n  _renderTopContent() {\n    if (this.props.topContent) {\n      return this.props.topContent;\n    }\n    return null;\n  }\n\n  _renderBottomContent() {\n    if (this.props.bottomContent) {\n      return this.props.bottomContent;\n    }\n    return null;\n  }\n\n  _renderCameraMarker() {\n    if (this.props.showMarker) {\n      if (this.props.customMarker) {\n        return this.props.customMarker;\n      } else {\n        return (\n          <View style={styles.rectangleContainer}>\n            <View\n              style={[\n                styles.rectangle,\n                this.props.markerStyle ? this.props.markerStyle : null,\n              ]}\n            />\n          </View>\n        );\n      }\n    }\n    return null;\n  }\n\n  _renderCameraComponent() {\n    return (\n      <Camera\n        androidCameraPermissionOptions={{\n          title: this.props.permissionDialogTitle,\n          message: this.props.permissionDialogMessage,\n          buttonPositive: this.props.buttonPositive,\n        }}\n        style={[styles.camera, this.props.cameraStyle]}\n        onBarCodeRead={this._handleBarCodeRead.bind(this)}\n        type={this.props.cameraType}\n        flashMode={this.props.flashMode}\n        captureAudio={false}\n        {...this.props.cameraProps}\n      >\n        {this._renderCameraMarker()}\n      </Camera>\n    );\n  }\n\n  _renderCamera() {\n    const {\n      notAuthorizedView,\n      pendingAuthorizationView,\n      cameraType,\n      cameraTimeoutView,\n    } = this.props;\n\n    if (!this.state.isCameraActivated) {\n      return (\n        <TouchableWithoutFeedback onPress={() => this._setCamera(true)}>\n          {cameraTimeoutView}\n        </TouchableWithoutFeedback>\n      );\n    }\n\n    const { isAuthorized, isAuthorizationChecked } = this.state;\n    if (isAuthorized) {\n      if (this.props.cameraTimeout > 0) {\n        this.timer && clearTimeout(this.timer);\n        this.timer = setTimeout(\n          () => this._setCamera(false),\n          this.props.cameraTimeout\n        );\n      }\n\n      if (this.props.fadeIn) {\n        return (\n          <Animated.View\n            style={{\n              opacity: this.state.fadeInOpacity,\n              backgroundColor: 'transparent',\n              height:\n                (this.props.cameraStyle && this.props.cameraStyle.height) ||\n                styles.camera.height,\n            }}\n          >\n            {this._renderCameraComponent()}\n          </Animated.View>\n        );\n      }\n      return this._renderCameraComponent();\n    } else if (!isAuthorizationChecked) {\n      return pendingAuthorizationView;\n    } else {\n      return notAuthorizedView;\n    }\n  }\n\n  reactivate() {\n    this._setScanning(false);\n  }\n\n  render() {\n    return (\n      <View style={[styles.mainContainer, this.props.containerStyle]}>\n        <View style={[styles.infoView, this.props.topViewStyle]}>\n          {this._renderTopContent()}\n        </View>\n        <View style={this.props.cameraStyle}>{this._renderCamera()}</View>\n        <View style={[styles.infoView, this.props.bottomViewStyle]}>\n          {this._renderBottomContent()}\n        </View>\n      </View>\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  mainContainer: {\n    flex: 1,\n  },\n  infoView: {\n    flex: 2,\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: Dimensions.get('window').width,\n  },\n\n  camera: {\n    flex: 0,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n    height: Dimensions.get('window').width,\n    width: Dimensions.get('window').width,\n  },\n\n  rectangleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'transparent',\n  },\n\n  rectangle: {\n    height: 250,\n    width: 250,\n    borderWidth: 2,\n    borderColor: '#00FF00',\n    backgroundColor: 'transparent',\n  },\n});\n"]},"metadata":{},"sourceType":"module"}